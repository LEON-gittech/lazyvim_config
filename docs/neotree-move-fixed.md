# Neo-tree 移动功能修复说明

## 问题修复

已经修复了 Neo-tree 的移动功能，现在支持：
1. 单文件移动
2. 多文件批量移动
3. 多种移动方式

## 按键映射

### 基础移动
- **`m`** - 默认移动（单个文件）
  - 使用 Neo-tree 原生的移动功能
  - 支持路径补全
  - 适合快速移动单个文件

- **`M`** - 批量移动（支持多选）
  - 支持多选文件批量移动
  - 选中多个文件后按 `M`
  - 输入目标目录，所有选中文件会移动到该目录
  - 自动创建不存在的目录

### 高级移动
- **`<C-m>`** - 使用 Telescope 文件浏览器移动
  - 可视化选择目标目录
  - 从项目根目录开始浏览
  - 按 `<C-f>` 切换文件/目录显示
  - 按 `<C-p>` 切换到直接输入模式

- **`gm`** - 基于项目根目录移动
  - 输入相对于项目根目录的路径
  - 适合在项目内移动文件

- **`r`** - 重命名
  - 优化的重命名功能
  - 支持路径输入（可以同时移动和重命名）

## 使用方法

### 批量移动多个文件
1. 在 Neo-tree 中使用空格键或其他方式选中多个文件
2. 按 `M`
3. 输入目标目录路径（支持 Tab 补全）
4. 确认后所有选中的文件会移动到目标目录

### 单文件移动
1. 光标放在要移动的文件上
2. 按 `m`（默认移动）或 `<C-m>`（Telescope 移动）
3. 输入或选择目标路径

## 特性

- **路径补全**：所有输入框都支持 Tab 补全
- **自动创建目录**：如果目标目录不存在会自动创建
- **错误处理**：
  - 检查目标文件是否已存在
  - 显示详细的错误信息
  - 成功移动的文件数量统计
- **自动刷新**：移动完成后自动刷新 Neo-tree 显示

## 注意事项

1. 批量移动时，如果目标位置已有同名文件，该文件会跳过不移动
2. 所有移动操作都会保留文件名，只改变路径
3. 支持相对路径和绝对路径输入
4. 支持 `~` 展开到主目录
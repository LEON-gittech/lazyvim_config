# Neo-tree Move/Rename 功能测试

## 新功能概述

已经优化了 Neo-tree 的移动和重命名操作，添加了以下功能：

### 1. **按键 `m` - 使用 Telescope 文件浏览器移动**
- 打开 Telescope file browser，**从项目根目录开始浏览**
- 默认只显示目录，按 `<C-f>` 可以切换显示文件
- 在 Telescope 中可以正常导航（使用 `-` 键返回上级目录）
- 选择目录后，会弹出输入框让你确认完整路径
- 按 `<C-p>` 可以直接输入路径（带补全）

### 2. **按键 `M` - 快速移动（相对于当前文件）**
- 直接弹出输入框，带路径补全功能
- 默认显示当前文件的完整路径
- 支持以下输入方式：
  - 完整路径：`/path/to/new/location/file.txt`
  - 相对路径：`../other_folder/file.txt`（相对于当前文件所在目录）
  - 只输入目录：`/path/to/folder/`（会自动保留原文件名）
  - 使用 `~` 和环境变量：`~/Documents/file.txt`

### 3. **按键 `gm` - 基于项目根目录移动**
- 输入框中显示文件相对于项目根目录的路径
- 输入的路径默认相对于项目根目录
- 适合在项目内部移动文件

### 4. **按键 `r` - 优化的重命名**
- 带路径补全的输入框
- 默认显示当前文件名
- 支持：
  - 简单重命名：`newname.txt`
  - 带路径的移动+重命名：`../folder/newname.txt`
  - 绝对路径：`/path/to/newname.txt`

## 功能特点

1. **路径补全**：所有输入框都支持 `completion = "file"`，可以用 Tab 键补全路径
2. **自动创建目录**：如果目标目录不存在，会自动创建
3. **错误处理**：操作失败时会显示错误信息
4. **自动刷新**：操作成功后自动刷新 Neo-tree 显示

## 测试步骤

1. 打开 Neo-tree：`<leader>e` 或 `:Neotree`
2. 选择一个文件
3. 测试各种移动方式：
   - 按 `m` 使用 Telescope 浏览并选择目标目录
   - 按 `M` 直接输入新路径（测试 Tab 补全）
   - 按 `r` 重命名文件

## 使用技巧

- 在输入路径时，使用 Tab 键可以自动补全
- 使用 `~` 可以快速定位到主目录
- 输入只有目录路径时，文件名会自动保留
- Telescope 模式下，`<C-f>` 切换文件/目录显示，`<C-p>` 切换到直接输入模式